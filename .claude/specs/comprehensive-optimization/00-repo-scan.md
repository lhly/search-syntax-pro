# ğŸ” SearchSyntax Pro ä»“åº“å…¨é¢æ‰«ææŠ¥å‘Š

**æ—¶é—´æˆ³**: 2025-11-08 18:10:52 (CST)
**å·¥ä½œç›®å½•**: /Users/lhly/chromeex/ssp
**GitçŠ¶æ€**: Clean (main branch)
**åˆ†ææ–¹æ³•**: BMAD Orchestrator UltraThink Methodology

---

## ğŸ“‹ æ‰§è¡Œæ‘˜è¦

**é¡¹ç›®ç±»å‹**: Chromeæµè§ˆå™¨æ‰©å±•ï¼ˆManifest V3ï¼‰
**ä¸»è¦ç›®çš„**: æœç´¢è¯­æ³•å¯è§†åŒ–å·¥å…·ï¼Œé™ä½é«˜çº§æœç´¢è¯­æ³•ä½¿ç”¨é—¨æ§›
**å¼€å‘çŠ¶æ€**: æ´»è·ƒå¼€å‘ä¸­ï¼ˆv1.0.0ï¼Œæœ€è¿‘æäº¤: 2025-11-08ï¼‰
**æŠ€æœ¯æˆç†Ÿåº¦**: ç”Ÿäº§å°±ç»ªï¼Œå…·å¤‡å®Œæ•´çš„æ„å»ºã€æµ‹è¯•å’Œæ‰“åŒ…æµç¨‹

---

## ğŸ¯ é¡¹ç›®æ¦‚è§ˆ

### æ ¸å¿ƒä»·å€¼ä¸»å¼ 
SearchSyntax Proï¼ˆæœç´¢è¯­æ³•å¤§å¸ˆï¼‰æ˜¯ä¸€ä¸ªæµè§ˆå™¨æ‰©å±•å·¥å…·ï¼Œé€šè¿‡å¯è§†åŒ–ç•Œé¢å¸®åŠ©ç”¨æˆ·æ„å»ºå’Œä½¿ç”¨é«˜çº§æœç´¢è¯­æ³•ï¼Œæ”¯æŒç™¾åº¦ã€è°·æ­Œã€å¿…åº”ä¸‰å¤§ä¸»æµæœç´¢å¼•æ“ã€‚

### å…³é”®ç‰¹æ€§
- âœ… **å¤šæœç´¢å¼•æ“æ”¯æŒ**: ç™¾åº¦ã€è°·æ­Œã€å¿…åº”ï¼ˆé€šè¿‡é€‚é…å™¨æ¨¡å¼ï¼‰
- âœ… **é«˜çº§è¯­æ³•ç”Ÿæˆ**: 12+ç§æœç´¢è¯­æ³•ï¼ˆsiteã€filetypeã€intitleã€inurlç­‰ï¼‰
- âœ… **æ™ºèƒ½éªŒè¯**: å®æ—¶è¯­æ³•éªŒè¯å’Œæœç´¢å»ºè®®
- âœ… **å†å²ç®¡ç†**: æœç´¢å†å²è®°å½•å’Œå¿«é€Ÿé‡ç”¨
- âœ… **ä¸»é¢˜æ”¯æŒ**: Light/Dark/Auto ä¸»é¢˜åˆ‡æ¢
- âœ… **å›½é™…åŒ–**: ä¸­è‹±æ–‡ç•Œé¢æ”¯æŒ

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„åˆ†æ

### 1. æŠ€æœ¯æ ˆè¯¦è§£

#### å‰ç«¯æ ¸å¿ƒæ¡†æ¶
```yaml
React 18.2.0:
  - ç°ä»£åŒ–UIç»„ä»¶å¼€å‘
  - Hooksæ¨¡å¼ï¼ˆuseState, useEffect, useCallbackï¼‰
  - å‡½æ•°å¼ç»„ä»¶æ¶æ„

TypeScript 5.2.2:
  - ä¸¥æ ¼ç±»å‹æ£€æŸ¥ (strict: true)
  - å®Œæ•´ç±»å‹å®šä¹‰ç³»ç»Ÿ (@/types/index.ts)
  - Chromeæ‰©å±•APIç±»å‹æ”¯æŒ (@types/chrome)

æ„å»ºå·¥å…·é“¾:
  - Vite 5.0.0: å¿«é€Ÿæ„å»ºå’ŒHMR
  - @vitejs/plugin-react: Reactæ”¯æŒ
  - TypeScriptç¼–è¯‘: ES2020ç›®æ ‡
```

#### æ ·å¼ç³»ç»Ÿ
```yaml
Tailwind CSS 3.3.6:
  - Utility-first CSSæ¡†æ¶
  - è‡ªå®šä¹‰ä¸»é¢˜é…ç½® (primary, grayè‰²ç³»)
  - æ·±è‰²æ¨¡å¼æ”¯æŒ (classç­–ç•¥)
  - è‡ªå®šä¹‰åŠ¨ç”» (fade-in, slide-up)

PostCSS 8.4.32:
  - Autoprefixer: æµè§ˆå™¨å…¼å®¹æ€§
  - CSSä¼˜åŒ–å’Œå‹ç¼©
```

#### Chromeæ‰©å±•æŠ€æœ¯
```yaml
Manifest V3:
  - Service Workeråå°è„šæœ¬
  - Content Scriptså†…å®¹æ³¨å…¥
  - Chrome Storage API
  - Context Menus API

æƒé™æ¸…å•:
  - storage: æœ¬åœ°æ•°æ®å­˜å‚¨
  - activeTab: å½“å‰æ ‡ç­¾é¡µè®¿é—®
  - scripting: è„šæœ¬æ³¨å…¥
  - contextMenus: å³é”®èœå•

æ”¯æŒåŸŸå:
  - baidu.com, google.com, bing.com
  - sogou.com, so.com
```

### 2. é¡¹ç›®ç»“æ„æ¨¡å¼

```
src/
â”œâ”€â”€ components/          # React UIç»„ä»¶å±‚
â”‚   â”œâ”€â”€ SearchForm.tsx       # ä¸»æœç´¢è¡¨å•ï¼ˆ405è¡Œï¼‰
â”‚   â”œâ”€â”€ QueryPreview.tsx     # æŸ¥è¯¢é¢„è§ˆç»„ä»¶
â”‚   â”œâ”€â”€ SearchHistory.tsx    # å†å²è®°å½•æ˜¾ç¤º
â”‚   â”œâ”€â”€ HistoryManager.tsx   # å†å²ç®¡ç†åŠŸèƒ½
â”‚   â”œâ”€â”€ CollapsibleSection.tsx  # æŠ˜å é¢æ¿
â”‚   â”œâ”€â”€ TagInput.tsx         # æ ‡ç­¾è¾“å…¥ç»„ä»¶
â”‚   â”œâ”€â”€ Logo.tsx             # å“ç‰Œæ ‡è¯†
â”‚   â”œâ”€â”€ CopyButton.tsx       # å¤åˆ¶æŒ‰é’®
â”‚   â”œâ”€â”€ SettingsButton.tsx   # è®¾ç½®æŒ‰é’®
â”‚   â””â”€â”€ __tests__/           # ç»„ä»¶å•å…ƒæµ‹è¯•
â”‚
â”œâ”€â”€ services/            # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ adapters/            # æœç´¢å¼•æ“é€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ factory.ts           # å·¥å‚æ¨¡å¼å®ç°
â”‚   â”‚   â”œâ”€â”€ baidu.ts             # ç™¾åº¦é€‚é…å™¨ï¼ˆ350è¡Œï¼‰
â”‚   â”‚   â”œâ”€â”€ google.ts            # è°·æ­Œé€‚é…å™¨
â”‚   â”‚   â””â”€â”€ bing.ts              # å¿…åº”é€‚é…å™¨
â”‚   â””â”€â”€ storage.ts           # Chrome Storageå°è£…
â”‚
â”œâ”€â”€ hooks/               # è‡ªå®šä¹‰React Hooks
â”‚   â”œâ”€â”€ useStorage.ts        # å­˜å‚¨Hookï¼ˆ154è¡Œï¼‰
â”‚   â””â”€â”€ useTheme.tsx         # ä¸»é¢˜Hook
â”‚
â”œâ”€â”€ types/               # TypeScriptç±»å‹å®šä¹‰
â”‚   â””â”€â”€ index.ts             # ç»Ÿä¸€ç±»å‹ç³»ç»Ÿï¼ˆ156è¡Œï¼‰
â”‚
â”œâ”€â”€ i18n/                # å›½é™…åŒ–æ”¯æŒ
â”‚   â”œâ”€â”€ index.tsx            # i18nä¸»æ–‡ä»¶
â”‚   â””â”€â”€ translations.ts      # ç¿»è¯‘èµ„æº
â”‚
â”œâ”€â”€ popup/               # æ‰©å±•å¼¹çª—ç•Œé¢
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ App.tsx
â”‚   â””â”€â”€ main.tsx
â”‚
â”œâ”€â”€ options/             # è®¾ç½®é¡µé¢
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ App.tsx
â”‚   â””â”€â”€ main.tsx
â”‚
â”œâ”€â”€ background/          # Service Worker
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ content/             # Content Scripts
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ styles/              # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ globals.css
â”‚
â””â”€â”€ utils/               # å·¥å…·å‡½æ•°
```

### 3. è®¾è®¡æ¨¡å¼è¯†åˆ«

#### é€‚é…å™¨æ¨¡å¼ (Adapter Pattern)
**ä½ç½®**: `src/services/adapters/`

```typescript
// ç»Ÿä¸€æ¥å£å®šä¹‰
interface SearchEngineAdapter {
  buildQuery(params: SearchParams): string;
  validateSyntax(syntax: SyntaxType): boolean;
  getSupportedSyntax(): SyntaxType[];
  validateParams?(params: SearchParams): ValidationResult;
}

// å·¥å‚æ¨¡å¼åˆ›å»ºé€‚é…å™¨
class SearchAdapterFactory {
  static getAdapter(engine: SearchEngine): SearchEngineAdapter
  static getSupportedEngines(): SearchEngine[]
  static buildSearchUrl(engine, params): string
}

// å…·ä½“å®ç°
- BaiduAdapter: ç™¾åº¦ç‰¹å®šè¯­æ³•å®ç°
- GoogleAdapter: è°·æ­Œè¯­æ³•å®ç°
- BingAdapter: å¿…åº”è¯­æ³•å®ç°
```

**ä¼˜åŠ¿**:
- âœ… æ˜“äºæ‰©å±•æ–°æœç´¢å¼•æ“
- âœ… ç»Ÿä¸€APIæ¥å£
- âœ… å•ä¾‹æ¨¡å¼ç¼“å­˜å®ä¾‹
- âœ… è¯­æ³•å…¼å®¹æ€§å¤„ç†

#### å·¥å‚æ¨¡å¼ (Factory Pattern)
**ä½ç½®**: `src/services/adapters/factory.ts`

```typescript
// å•ä¾‹æ¨¡å¼ + å·¥å‚æ¨¡å¼
private static adapters: Map<SearchEngine, SearchEngineAdapter>

static getAdapter(engine: SearchEngine): SearchEngineAdapter {
  if (!this.adapters.has(engine)) {
    const adapter = this.createAdapter(engine)
    this.adapters.set(engine, adapter)
  }
  return this.adapters.get(engine)
}
```

#### è‡ªå®šä¹‰Hooksæ¨¡å¼
**ä½ç½®**: `src/hooks/`

```typescript
// å­˜å‚¨ç®¡ç†Hook
useStorage<T>(key, defaultValue):
  - data: T | null
  - loading: boolean
  - error: string | null
  - save: (value: T) => Promise<boolean>
  - remove: () => Promise<boolean>
  - refetch: () => Promise<void>

// æ‰¹é‡å­˜å‚¨Hook
useBatchStorage():
  - execute: (operations) => Promise<boolean>

// å­˜å‚¨ä½¿ç”¨æƒ…å†µHook
useStorageUsage():
  - usage: { usedBytes, quotaBytes }
  - usagePercentage: number
  - refresh: () => Promise<void>
```

#### ç»„ä»¶ç»„åˆæ¨¡å¼
**ä½ç½®**: `src/components/SearchForm.tsx`

```typescript
// å¤æ‚è¡¨å•æ‹†åˆ†ä¸ºå¯é‡ç”¨ç»„ä»¶
<SearchForm>
  <CollapsibleSection title="ä½ç½®é™å®š">
    <TagInput tags={...} onChange={...} />
  </CollapsibleSection>
  <CollapsibleSection title="åŒ¹é…ç²¾åº¦">
    ...
  </CollapsibleSection>
  <CollapsibleSection title="é€»è¾‘è¿ç®—">
    ...
  </CollapsibleSection>
</SearchForm>
```

---

## ğŸ“¦ ä¾èµ–ç®¡ç†ä¸æ„å»º

### æ ¸å¿ƒä¾èµ–

```json
dependencies: {
  "date-fns": "^2.30.0",      // æ—¥æœŸå¤„ç†
  "react": "^18.2.0",         // UIæ¡†æ¶
  "react-dom": "^18.2.0"      // DOMæ¸²æŸ“
}
```

### å¼€å‘ä¾èµ–ï¼ˆ50+åŒ…ï¼‰

**ç±»å‹å®šä¹‰**:
- @types/chrome, @types/react, @types/react-dom, @types/jest

**æ„å»ºå·¥å…·**:
- vite, @vitejs/plugin-react, @crxjs/vite-plugin

**ä»£ç è´¨é‡**:
- eslint, @typescript-eslint/*, prettier
- jest, @testing-library/react, playwright

**æ ·å¼å·¥å…·**:
- tailwindcss, postcss, autoprefixer

**èµ„æºå¤„ç†**:
- sharp (å›¾åƒå¤„ç†)

### æ„å»ºæµç¨‹

```yaml
å¼€å‘æ¨¡å¼:
  å‘½ä»¤: npm run dev
  å·¥å…·: Vite HMR
  ç‰¹æ€§: çƒ­é‡è½½ï¼Œå¿«é€Ÿè¿­ä»£

ç”Ÿäº§æ„å»º:
  å‘½ä»¤: npm run build
  æ­¥éª¤:
    1. TypeScriptç¼–è¯‘ (tsc)
    2. Viteæ„å»º (rollup)
    3. åå¤„ç†è„šæœ¬ (scripts/post-build.js)
  è¾“å‡º: dist/ç›®å½•

  å…¥å£é…ç½®:
    - popup: src/popup/index.html
    - options: src/options/index.html
    - background: src/background/index.ts
    - content: src/content/index.ts

æ‰“åŒ…å‘å¸ƒ:
  å‘½ä»¤: npm run package
  å·¥å…·: scripts/package.js + ç³»ç»Ÿzip
  è¾“å‡º: releases/ssp-v{version}.zip
  ç‰¹æ€§:
    - è‡ªåŠ¨è¯»å–ç‰ˆæœ¬å·
    - æ’é™¤ç³»ç»Ÿæ–‡ä»¶
    - æ–‡ä»¶å¤§å°æ£€æŸ¥
    - è´¨é‡è¯„ä¼°
```

### è·¯å¾„åˆ«åç³»ç»Ÿ

```typescript
// vite.config.ts + tsconfig.json
resolve: {
  alias: {
    '@': resolve(__dirname, 'src'),
    '@/components': resolve(__dirname, 'src/components'),
    '@/services': resolve(__dirname, 'src/services'),
    '@/types': resolve(__dirname, 'src/types'),
    '@/utils': resolve(__dirname, 'src/utils'),
    '@/hooks': resolve(__dirname, 'src/hooks'),
    '@/i18n': resolve(__dirname, 'src/i18n')
  }
}
```

---

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### æµ‹è¯•æ¡†æ¶é…ç½®

```yaml
å•å…ƒæµ‹è¯•:
  æ¡†æ¶: Jest 29.7.0
  åº“: @testing-library/react
  é…ç½®: jest.config.js
  è½¬æ¢å™¨: ts-jest
  ç¯å¢ƒ: jsdom

E2Eæµ‹è¯•:
  æ¡†æ¶: Playwright 1.40.1
  é…ç½®: playwright.config.ts
  ç›®æ ‡: æµè§ˆå™¨æ‰©å±•åŠŸèƒ½æµ‹è¯•

æµ‹è¯•ç›®å½•ç»“æ„:
  src/components/__tests__/  # ç»„ä»¶æµ‹è¯•
  tests/unit/                # å•å…ƒæµ‹è¯•
  tests/integration/         # é›†æˆæµ‹è¯•
  tests/e2e/                 # E2Eæµ‹è¯•
  tests/adapters/            # é€‚é…å™¨æµ‹è¯•
  tests/components/          # ç»„ä»¶æµ‹è¯•
  tests/performance/         # æ€§èƒ½æµ‹è¯•
  tests/security/            # å®‰å…¨æµ‹è¯•
```

### æµ‹è¯•è¦†ç›–èŒƒå›´

**å·²å®ç°æµ‹è¯•**:
- âœ… Logoç»„ä»¶å•å…ƒæµ‹è¯• (src/components/__tests__/Logo.test.tsx)
- âœ… æµ‹è¯•è®¾ç½®æ–‡ä»¶ (tests/setup.ts)

**å¾…å®Œå–„æµ‹è¯•**:
- âš ï¸ SearchFormç»„ä»¶æµ‹è¯•
- âš ï¸ é€‚é…å™¨é€»è¾‘æµ‹è¯•
- âš ï¸ StorageæœåŠ¡æµ‹è¯•
- âš ï¸ Hooksæµ‹è¯•
- âš ï¸ E2Eå·¥ä½œæµæµ‹è¯•

---

## ğŸ¨ ä»£ç è§„èŒƒä¸è´¨é‡

### ESLinté…ç½®

```json
{
  "env": {
    "browser": true,
    "es2020": true,
    "webextensions": true
  },
  "extends": [
    "eslint:recommended",
    "@typescript-eslint/recommended",
    "plugin:react-hooks/recommended"
  ],
  "rules": {
    "@typescript-eslint/no-unused-vars": ["error", { "argsIgnorePattern": "^_" }],
    "@typescript-eslint/no-explicit-any": "warn",
    "prefer-const": "error",
    "no-var": "error"
  }
}
```

### Prettieré…ç½®

```json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2,
  "useTabs": false,
  "endOfLine": "lf",
  "arrowParens": "avoid"
}
```

### TypeScriptä¸¥æ ¼æ¨¡å¼

```json
{
  "strict": true,
  "noUnusedLocals": true,
  "noUnusedParameters": true,
  "noFallthroughCasesInSwitch": true
}
```

### ä»£ç è´¨é‡å‘½ä»¤

```bash
npm run lint        # ESLintæ£€æŸ¥
npm run lint:fix    # è‡ªåŠ¨ä¿®å¤
npm run format      # Prettieræ ¼å¼åŒ–
npm run type-check  # TypeScriptç±»å‹æ£€æŸ¥
```

---

## ğŸ“ æ–‡æ¡£å®Œæ•´æ€§

### ç°æœ‰æ–‡æ¡£

```yaml
README.md (223è¡Œ):
  - âœ… åŠŸèƒ½ç‰¹ç‚¹è¯´æ˜
  - âœ… æŠ€æœ¯æ¶æ„æ¦‚è§ˆ
  - âœ… å®‰è£…å’Œä½¿ç”¨æŒ‡å—
  - âœ… å¼€å‘æŒ‡å—å’Œå‘½ä»¤
  - âœ… è´¡çŒ®æŒ‡å—
  - âœ… éšç§æ”¿ç­–
  - âœ… æ›´æ–°æ—¥å¿—

PACKAGING.md (259è¡Œ):
  - âœ… æ‰“åŒ…æµç¨‹è¯¦è§£
  - âœ… Chrome Web Storeå‘å¸ƒæŒ‡å—
  - âœ… ç‰ˆæœ¬ç®¡ç†æœ€ä½³å®è·µ
  - âœ… æ•…éšœæ’æŸ¥æŒ‡å—
  - âœ… Gitå·¥ä½œæµ

å…¶ä»–æ–‡æ¡£:
  - CHANGELOG-PERMISSIONS.md: æƒé™å˜æ›´è®°å½•
  - LOGO_UPDATE_GUIDE.md: Logoæ›´æ–°æŒ‡å—
  - QA_TEST_REPORT.md: QAæµ‹è¯•æŠ¥å‘Š
  - THEME_IMPLEMENTATION.md: ä¸»é¢˜å®ç°æ–‡æ¡£
  - éœ€æ±‚æ–‡æ¡£.md: é¡¹ç›®éœ€æ±‚è¯´æ˜
```

### æ–‡æ¡£è´¨é‡è¯„ä¼°

**ä¼˜åŠ¿**:
- âœ… æ–‡æ¡£è¦†ç›–å…¨é¢ï¼ˆå¼€å‘ã€æ„å»ºã€å‘å¸ƒã€æµ‹è¯•ï¼‰
- âœ… ä¸­æ–‡æ–‡æ¡£ï¼Œæ˜“äºç†è§£
- âœ… åŒ…å«è¯¦ç»†çš„å‘½ä»¤ç¤ºä¾‹å’Œæ•…éšœæ’æŸ¥
- âœ… éšç§æ”¿ç­–æ˜ç¡®ï¼ˆæœ¬åœ°å­˜å‚¨ï¼Œæ— æ•°æ®ä¼ è¾“ï¼‰

**æ”¹è¿›ç©ºé—´**:
- âš ï¸ ç¼ºå°‘APIæ–‡æ¡£ï¼ˆé€‚é…å™¨æ¥å£è¯´æ˜ï¼‰
- âš ï¸ ç¼ºå°‘æ¶æ„å†³ç­–è®°å½•ï¼ˆADRï¼‰
- âš ï¸ ç¼ºå°‘è´¡çŒ®è€…æŒ‡å—çš„è¯¦ç»†æµç¨‹
- âš ï¸ ç¼ºå°‘æ€§èƒ½ä¼˜åŒ–æŒ‡å—

---

## ğŸ” å®‰å…¨æ€§åˆ†æ

### æƒé™ä½¿ç”¨

```yaml
å¿…éœ€æƒé™:
  storage:
    ç”¨é€”: ä¿å­˜æœç´¢å†å²å’Œç”¨æˆ·è®¾ç½®
    èŒƒå›´: æœ¬åœ°å­˜å‚¨ï¼ˆchrome.storage.localï¼‰

  activeTab:
    ç”¨é€”: è®¿é—®å½“å‰æ ‡ç­¾é¡µ
    èŒƒå›´: ç”¨æˆ·ä¸»åŠ¨ç‚¹å‡»æ—¶

  scripting:
    ç”¨é€”: å†…å®¹è„šæœ¬æ³¨å…¥
    èŒƒå›´: æŒ‡å®šåŸŸå

  contextMenus:
    ç”¨é€”: å³é”®èœå•é›†æˆ
    èŒƒå›´: æ‰©å±•åŠŸèƒ½

ä¸»æœºæƒé™:
  - é™å®š5ä¸ªæœç´¢å¼•æ“åŸŸå
  - ä½¿ç”¨HTTPSåè®®
  - é€šé…ç¬¦è·¯å¾„ (/*ï¼‰
```

### å†…å®¹å®‰å…¨ç­–ç•¥

```json
"content_security_policy": {
  "extension_pages": "script-src 'self'; object-src 'self'"
}
```

**å®‰å…¨ç‰¹æ€§**:
- âœ… ç¦æ­¢å†…è”è„šæœ¬å’Œeval
- âœ… ä»…å…è®¸selfæ¥æº
- âœ… æœ€å°åŒ–æƒé™åŸåˆ™
- âœ… Manifest V3æ ‡å‡†ï¼ˆæ›´å®‰å…¨ï¼‰

### éšç§ä¿æŠ¤

```yaml
æ•°æ®æ”¶é›†:
  - âŒ ä¸æ”¶é›†ç”¨æˆ·ä¸ªäººä¿¡æ¯
  - âœ… æ‰€æœ‰æ•°æ®ä»…æœ¬åœ°å­˜å‚¨
  - âœ… ä¸å‘ç¬¬ä¸‰æ–¹ä¼ è¾“æ•°æ®
  - âœ… ç”¨æˆ·å¯éšæ—¶æ¸…é™¤æ•°æ®

æ•°æ®å­˜å‚¨:
  - search_history: æœç´¢å†å²è®°å½•
  - user_settings: ç”¨æˆ·è®¾ç½®
  - app_cache: åº”ç”¨ç¼“å­˜

å­˜å‚¨é™åˆ¶:
  - 5MBæœ¬åœ°å­˜å‚¨é…é¢
  - è‡ªåŠ¨æ¸…ç†30å¤©è¿‡æœŸæ•°æ®
  - ç”¨æˆ·å¯é…ç½®å†å²è®°å½•æ•°é‡ï¼ˆhistoryLimitï¼‰
```

---

## ğŸ”„ å¼€å‘å·¥ä½œæµ

### Gitå·¥ä½œæµ

```yaml
å½“å‰åˆ†æ”¯: main
çŠ¶æ€: Clean (æ— æœªæäº¤æ›´æ”¹)

æœ€è¿‘æäº¤å†å² (æœ€è¿‘10æ¬¡):
  366e090: feat: å®ç°é«˜çº§æœç´¢è¯­æ³•UIåŠé€‚é…å™¨æ”¯æŒ
  22f8b16: feat(å†å²è®°å½•): æ·»åŠ popupæ˜¾ç¤ºé™åˆ¶å’Œè®¾ç½®é¡µç¡®è®¤é€»è¾‘
  d64d047: feat(history): æ·»åŠ å†å²è®°å½•ç®¡ç†åŠŸèƒ½
  f32329c: feat(build): æ·»åŠ æ‰©å±•æ‰“åŒ…è„šæœ¬å’Œæ–‡æ¡£
  c6b4816: chore: æ›´æ–°.gitignoreæ–‡ä»¶ä¸­çš„æµ‹è¯•ç›¸å…³å¿½ç•¥é¡¹
  d4709d7: chore: remove .tmp-chrome from version control
  ad790eb: style(options): å°†æ•°æ®éƒ¨åˆ†æŒ‰é’®é—´è·è°ƒæ•´
  47652d2: feat(è®¾ç½®): æ”¹è¿›è®¾ç½®é‡ç½®åŠŸèƒ½å¹¶æ·»åŠ è‡ªåŠ¨ä¿å­˜
  6a997b8: feat(ä¸»é¢˜): å®ç°ä¸»é¢˜ç³»ç»Ÿ
  42eda50: first commit

æäº¤è§„èŒƒ:
  - feat: æ–°åŠŸèƒ½
  - chore: æ„å»º/å·¥å…·å˜æ›´
  - style: æ ·å¼è°ƒæ•´
  - fix: Bugä¿®å¤ï¼ˆæœªè§ï¼‰
  - ä¸­æ–‡commit message
  - æè¿°æ¸…æ™°å…·ä½“
```

### ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥

```yaml
.gitignoreé…ç½®:
  - node_modules/
  - dist/
  - .tmp-chrome/
  - releases/
  - *.DS_Store
  - æµ‹è¯•å’Œæ„å»ºäº§ç‰©

åˆ†æ”¯ç­–ç•¥:
  å½“å‰: å•ä¸€mainåˆ†æ”¯
  å»ºè®®:
    - developåˆ†æ”¯ç”¨äºå¼€å‘
    - feature/*åˆ†æ”¯ç”¨äºæ–°åŠŸèƒ½
    - hotfix/*åˆ†æ”¯ç”¨äºç´§æ€¥ä¿®å¤
```

### CI/CDçŠ¶æ€

```yaml
å½“å‰çŠ¶æ€: âŒ æœªé…ç½®CI/CD
å»ºè®®é…ç½®:
  - GitHub Actionså·¥ä½œæµ
  - è‡ªåŠ¨æµ‹è¯•è¿è¡Œ
  - è‡ªåŠ¨æ„å»ºéªŒè¯
  - è‡ªåŠ¨æ‰“åŒ…å‘å¸ƒ
  - ä»£ç è´¨é‡æ£€æŸ¥
```

---

## ğŸš€ æ€§èƒ½ä¼˜åŒ–

### æ„å»ºä¼˜åŒ–

```typescript
// vite.config.ts
build: {
  rollupOptions: {
    output: {
      entryFileNames: '[name].js',    // æ¸…æ™°å‘½å
      chunkFileNames: '[name].js',    // é¿å…å“ˆå¸Œ
      assetFileNames: '[name].[ext]'  // èµ„æºæ–‡ä»¶
    }
  },
  outDir: 'dist',
  emptyOutDir: true
}
```

**ä¼˜åŒ–ç­–ç•¥**:
- âœ… Viteå¿«é€Ÿæ„å»ºï¼ˆ<5ç§’ï¼‰
- âœ… Tree-shakingç§»é™¤æœªä½¿ç”¨ä»£ç 
- âœ… ä»£ç åˆ†å‰²ï¼ˆpopup, options, background, contentç‹¬ç«‹ï¼‰
- âœ… èµ„æºå‹ç¼©å’Œä¼˜åŒ–

### è¿è¡Œæ—¶ä¼˜åŒ–

```typescript
// å•ä¾‹æ¨¡å¼ç¼“å­˜é€‚é…å™¨
private static adapters: Map<SearchEngine, SearchEngineAdapter>

// é˜²æŠ–å’ŒèŠ‚æµï¼ˆç»„ä»¶å±‚é¢ï¼‰
const [showAdvanced, setShowAdvanced] = useState(false)

// æ‡’åŠ è½½å’Œä»£ç åˆ†å‰²
build.rollupOptions.input = {
  popup: 'src/popup/index.html',
  options: 'src/options/index.html',
  background: 'src/background/index.ts',
  content: 'src/content/index.ts'
}
```

### åŒ…å¤§å°åˆ†æ

```yaml
é¢„æœŸæ„å»ºäº§ç‰©:
  - background.js: Service Workeré€»è¾‘
  - popup.js: å¼¹çª—ç•Œé¢ï¼ˆä¸»è¦åŠŸèƒ½ï¼‰
  - options.js: è®¾ç½®é¡µé¢
  - content.js: å†…å®¹è„šæœ¬ï¼ˆæœ€å°åŒ–ï¼‰
  - factory.css: Tailwindç¼–è¯‘åæ ·å¼
  - icons/: å›¾æ ‡èµ„æº
  - _locales/: å›½é™…åŒ–æ–‡ä»¶

ä¼˜åŒ–ç›®æ ‡:
  - ZIPåŒ… < 5MBï¼ˆä¼˜ç§€ï¼‰
  - åˆå§‹åŠ è½½ < 1ç§’
  - æœç´¢å“åº” < 100ms
```

---

## ğŸŒ å›½é™…åŒ–æ”¯æŒ

### å®ç°æ–¹å¼

```yaml
Chromeæ‰©å±•i18n:
  default_locale: zh_CN
  _locales/zh_CN/messages.json
  _locales/en/messages.json

React i18nç³»ç»Ÿ:
  src/i18n/index.tsx:
    - useTranslation Hook
    - TranslationProvider

  src/i18n/translations.ts:
    - ç¿»è¯‘é”®å€¼å¯¹å®šä¹‰
    - æ”¯æŒåµŒå¥—ç»“æ„

ä½¿ç”¨æ¨¡å¼:
  const { t } = useTranslation()
  <label>{t('searchForm.keywordLabel')}</label>
```

### è¦†ç›–èŒƒå›´

```yaml
å·²ç¿»è¯‘å†…å®¹:
  - âœ… UIç»„ä»¶æ ‡ç­¾å’Œæç¤º
  - âœ… æœç´¢å¼•æ“åç§°
  - âœ… æ–‡ä»¶ç±»å‹æ ‡ç­¾
  - âœ… é”™è¯¯å’Œè­¦å‘Šæ¶ˆæ¯
  - âœ… å¸®åŠ©æ–‡æœ¬

å¾…å®Œå–„:
  - âš ï¸ å¤æ‚è¯­æ³•è¯´æ˜çš„æœ¬åœ°åŒ–
  - âš ï¸ æ—¥æœŸæ ¼å¼æœ¬åœ°åŒ–
  - âš ï¸ æ•°å­—æ ¼å¼æœ¬åœ°åŒ–
```

---

## ğŸ¯ ä»£ç ç»„ç»‡çº¦å®š

### å‘½åçº¦å®š

```yaml
æ–‡ä»¶å‘½å:
  ç»„ä»¶: PascalCase (SearchForm.tsx)
  Hooks: camelCase with 'use' prefix (useStorage.ts)
  æœåŠ¡: camelCase (storage.ts)
  ç±»å‹: index.tsï¼ˆç»Ÿä¸€å¯¼å‡ºï¼‰

å˜é‡å‘½å:
  å¸¸é‡: UPPER_SNAKE_CASE (STORAGE_KEYS, DEFAULT_SETTINGS)
  æ¥å£: PascalCase with 'I' prefix optional (SearchParams)
  ç±»å‹åˆ«å: PascalCase (SearchEngine, SyntaxType)
  å‡½æ•°: camelCase (buildQuery, validateSyntax)

å¯¼å…¥åˆ«å:
  @/ â†’ src/
  @/components/ â†’ src/components/
  @/services/ â†’ src/services/
  @/types/ â†’ src/types/
```

### ç»„ä»¶ç»“æ„çº¦å®š

```typescript
// æ ‡å‡†ç»„ä»¶ç»“æ„
import { useState } from 'react'
import type { PropsType } from '@/types'
import { useTranslation } from '@/i18n'
import { SubComponent } from './SubComponent'

interface ComponentProps {
  // Propså®šä¹‰
}

export function ComponentName({ prop1, prop2 }: ComponentProps) {
  // 1. Hookså£°æ˜
  const [state, setState] = useState()
  const { t } = useTranslation()

  // 2. äº‹ä»¶å¤„ç†å‡½æ•°
  const handleEvent = () => { }

  // 3. æ¸²æŸ“é€»è¾‘
  return (
    <div className="...">
      {/* JSX */}
    </div>
  )
}
```

### ç±»å‹ç³»ç»Ÿçº¦å®š

```typescript
// ç»Ÿä¸€ç±»å‹å®šä¹‰ä½ç½®: src/types/index.ts

// 1. åŸºç¡€ç±»å‹
export type SearchEngine = 'baidu' | 'google' | 'bing'
export type SyntaxType = 'site' | 'filetype' | ...

// 2. æ¥å£å®šä¹‰
export interface SearchParams { ... }
export interface SearchEngineAdapter { ... }

// 3. å¸¸é‡å®šä¹‰
export const STORAGE_KEYS = { ... } as const
export const DEFAULT_SETTINGS: UserSettings = { ... }

// 4. è¾…åŠ©ç±»å‹
export const COMMON_FILE_TYPES = [ ... ] as const
```

---

## ğŸ”§ æ‰©å±•ç‚¹å’Œé›†æˆ

### æ·»åŠ æ–°æœç´¢å¼•æ“

```yaml
æ­¥éª¤:
  1. åˆ›å»ºé€‚é…å™¨æ–‡ä»¶: src/services/adapters/new-engine.ts
  2. å®ç°æ¥å£: SearchEngineAdapter
  3. æ³¨å†Œåˆ°å·¥å‚: SearchAdapterFactory.createAdapter()
  4. æ›´æ–°ç±»å‹: SearchEngineç±»å‹è”åˆ
  5. æ·»åŠ manifestæƒé™: host_permissions
  6. æ›´æ–°å›½é™…åŒ–: translations.ts

ç¤ºä¾‹ç»“æ„:
  export class NewEngineAdapter implements SearchEngineAdapter {
    getName() { return 'æ–°å¼•æ“' }
    getBaseUrl() { return 'https://...' }
    buildQuery(params) { /* å®ç° */ }
    validateSyntax(syntax) { /* å®ç° */ }
    getSupportedSyntax() { return [...] }
  }
```

### æ·»åŠ æ–°è¯­æ³•ç±»å‹

```yaml
æ­¥éª¤:
  1. æ›´æ–°ç±»å‹å®šä¹‰: src/types/index.ts
     - SyntaxTypeè”åˆç±»å‹
     - SearchParamsæ¥å£æ–°å­—æ®µ

  2. æ›´æ–°UIç»„ä»¶: src/components/SearchForm.tsx
     - æ·»åŠ è¾“å…¥æ§ä»¶
     - ç»‘å®šçŠ¶æ€æ›´æ–°

  3. æ›´æ–°é€‚é…å™¨: src/services/adapters/*.ts
     - buildSearchQueryé€»è¾‘
     - getSupportedSyntaxæ•°ç»„
     - validateParamséªŒè¯

  4. å›½é™…åŒ–: src/i18n/translations.ts
     - æ ‡ç­¾å’Œå¸®åŠ©æ–‡æœ¬
```

### æ·»åŠ æ–°ä¸»é¢˜

```yaml
æ­¥éª¤:
  1. æ›´æ–°ç±»å‹: Theme = 'light' | 'dark' | 'auto' | 'new-theme'
  2. Tailwindé…ç½®: tailwind.config.jsæ‰©å±•colors
  3. ä¸»é¢˜Hook: useTheme.tsxæ·»åŠ ä¸»é¢˜é€»è¾‘
  4. CSSå˜é‡: globals.csså®šä¹‰ä¸»é¢˜å˜é‡
  5. å›½é™…åŒ–: translationsæ·»åŠ ä¸»é¢˜åç§°
```

---

## âš ï¸ æŠ€æœ¯å€ºåŠ¡å’Œæ”¹è¿›æœºä¼š

### æµ‹è¯•è¦†ç›–

```yaml
çŠ¶æ€: âš ï¸ æµ‹è¯•è¦†ç›–ç‡ä½
ä¼˜å…ˆçº§: ğŸ”´ é«˜

é—®é¢˜:
  - ä»…æœ‰Logoç»„ä»¶æµ‹è¯•
  - ç¼ºå°‘æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æµ‹è¯•
  - ç¼ºå°‘E2Eå·¥ä½œæµæµ‹è¯•

å»ºè®®:
  1. SearchAdapterFactoryå•å…ƒæµ‹è¯•
  2. å„é€‚é…å™¨çš„è¯­æ³•æ„å»ºæµ‹è¯•
  3. useStorage Hookæµ‹è¯•
  4. SearchFormäº¤äº’æµ‹è¯•
  5. å®Œæ•´æœç´¢å·¥ä½œæµE2Eæµ‹è¯•
```

### CI/CDæµç¨‹

```yaml
çŠ¶æ€: âŒ æœªé…ç½®
ä¼˜å…ˆçº§: ğŸŸ¡ ä¸­

å»ºè®®é…ç½®:
  1. GitHub Actionså·¥ä½œæµ
     - è‡ªåŠ¨è¿è¡Œæµ‹è¯•
     - TypeScriptç±»å‹æ£€æŸ¥
     - ESLintä»£ç æ£€æŸ¥
     - æ„å»ºéªŒè¯

  2. å‘å¸ƒè‡ªåŠ¨åŒ–
     - ç‰ˆæœ¬å·è‡ªåŠ¨æ›´æ–°
     - CHANGELOGè‡ªåŠ¨ç”Ÿæˆ
     - ZIPåŒ…è‡ªåŠ¨æ‰“åŒ…
     - GitHub Releaseè‡ªåŠ¨åˆ›å»º
```

### ä»£ç ç»„ç»‡

```yaml
çŠ¶æ€: âœ… è‰¯å¥½ï¼Œæœ‰æ”¹è¿›ç©ºé—´
ä¼˜å…ˆçº§: ğŸŸ¢ ä½

æ”¹è¿›å»ºè®®:
  1. æå–éªŒè¯é€»è¾‘åˆ°ç‹¬ç«‹æ–‡ä»¶
     src/services/validators/

  2. æå–å¸¸é‡åˆ°é…ç½®æ–‡ä»¶
     src/config/constants.ts

  3. å·¥å…·å‡½æ•°ç‹¬ç«‹ç®¡ç†
     src/utils/domain.ts
     src/utils/date.ts

  4. é”™è¯¯å¤„ç†ç»Ÿä¸€åŒ–
     src/utils/error-handler.ts
```

### æ€§èƒ½ç›‘æ§

```yaml
çŠ¶æ€: âš ï¸ ç¼ºå¤±
ä¼˜å…ˆçº§: ğŸŸ¡ ä¸­

å»ºè®®:
  1. æ·»åŠ æ€§èƒ½ç›‘æ§åŸ‹ç‚¹
     - æœç´¢æ„å»ºæ—¶é—´
     - å­˜å‚¨è¯»å†™æ—¶é—´
     - UIæ¸²æŸ“æ€§èƒ½

  2. é”™è¯¯è¿½è¸ª
     - Sentryé›†æˆï¼ˆå¯é€‰ï¼‰
     - æœ¬åœ°é”™è¯¯æ—¥å¿—

  3. ç”¨æˆ·è¡Œä¸ºåˆ†æ
     - è¯­æ³•ä½¿ç”¨é¢‘ç‡
     - æœç´¢å¼•æ“åå¥½
     - åŠŸèƒ½ä½¿ç”¨çƒ­åº¦
```

### æ–‡æ¡£å®Œå–„

```yaml
çŠ¶æ€: âœ… åŸºç¡€è‰¯å¥½ï¼Œå¯æ·±åŒ–
ä¼˜å…ˆçº§: ğŸŸ¢ ä½

æ”¹è¿›å»ºè®®:
  1. APIæ–‡æ¡£
     - é€‚é…å™¨æ¥å£è¯¦ç»†è¯´æ˜
     - Hookä½¿ç”¨ç¤ºä¾‹
     - ç±»å‹ç³»ç»Ÿå¯¼è§ˆ

  2. æ¶æ„å†³ç­–è®°å½•(ADR)
     - ä¸ºä»€ä¹ˆé€‰æ‹©é€‚é…å™¨æ¨¡å¼
     - Manifest V3è¿ç§»å†³ç­–
     - æŠ€æœ¯æ ˆé€‰æ‹©ç†ç”±

  3. è´¡çŒ®æŒ‡å—æ·±åŒ–
     - è¯¦ç»†çš„PRæµç¨‹
     - ä»£ç å®¡æŸ¥æ ‡å‡†
     - æµ‹è¯•è¦æ±‚
```

---

## ğŸ“ å­¦ä¹ æ›²çº¿å’Œä¸Šæ‰‹éš¾åº¦

### æ–°å¼€å‘è€…ä¸Šæ‰‹

```yaml
æŠ€æœ¯æ ˆç†Ÿæ‚‰åº¦è¦æ±‚:
  å¿…éœ€:
    - âœ… ReactåŸºç¡€ï¼ˆHooks, ç»„ä»¶ï¼‰
    - âœ… TypeScriptåŸºç¡€ï¼ˆç±»å‹ã€æ¥å£ï¼‰
    - âœ… Chromeæ‰©å±•åŸºç¡€ï¼ˆManifest V3ï¼‰

  æ¨è:
    - Tailwind CSS
    - Viteæ„å»ºå·¥å…·
    - Jestæµ‹è¯•æ¡†æ¶

ä¸Šæ‰‹éš¾åº¦: â­â­â­ (ä¸­ç­‰)

å­¦ä¹ è·¯å¾„:
  ç¬¬1å‘¨:
    - é˜…è¯»READMEå’ŒPACKAGINGæ–‡æ¡£
    - æœ¬åœ°è¿è¡Œå¼€å‘ç¯å¢ƒ
    - ç†è§£é¡¹ç›®ç»“æ„

  ç¬¬2å‘¨:
    - ç†Ÿæ‚‰é€‚é…å™¨æ¨¡å¼å®ç°
    - ç†è§£ç±»å‹ç³»ç»Ÿ
    - ä¿®æ”¹ç®€å•UIç»„ä»¶

  ç¬¬3-4å‘¨:
    - æ·»åŠ æ–°è¯­æ³•ç±»å‹
    - å®ç°æ–°åŠŸèƒ½
    - ç¼–å†™å•å…ƒæµ‹è¯•
```

### ä»£ç å¯è¯»æ€§

```yaml
è¯„åˆ†: â­â­â­â­ (è‰¯å¥½)

ä¼˜åŠ¿:
  - âœ… TypeScriptç±»å‹æ³¨é‡Šå®Œæ•´
  - âœ… ç»„ä»¶èŒè´£å•ä¸€æ¸…æ™°
  - âœ… é€‚é…å™¨æ¥å£ç»Ÿä¸€
  - âœ… ä¸­æ–‡æ³¨é‡Šï¼ˆå…³é”®é€»è¾‘ï¼‰

æ”¹è¿›ç©ºé—´:
  - âš ï¸ å¤æ‚å‡½æ•°ç¼ºå°‘æ³¨é‡Šï¼ˆå¦‚buildSearchQueryï¼‰
  - âš ï¸ ç®—æ³•é€»è¾‘è¯´æ˜ä¸è¶³
  - âš ï¸ è¾¹ç•Œæƒ…å†µå¤„ç†è¯´æ˜ä¸è¶³
```

---

## ğŸ“Š é¡¹ç›®å¥åº·åº¦è¯„ä¼°

### æ€»ä½“è¯„åˆ†: â­â­â­â­ (85/100)

```yaml
ä»£ç è´¨é‡: â­â­â­â­â­ (95/100)
  - ä¸¥æ ¼TypeScript
  - ESLint + Prettier
  - æ¸…æ™°çš„æ¶æ„æ¨¡å¼

æ–‡æ¡£å®Œæ•´æ€§: â­â­â­â­ (80/100)
  - READMEè¯¦ç»†
  - æ‰“åŒ…æ–‡æ¡£å®Œå–„
  - ç¼ºå°‘APIæ–‡æ¡£

æµ‹è¯•è¦†ç›–: â­â­ (40/100)
  - æµ‹è¯•æ¡†æ¶å°±ç»ª
  - å®é™…è¦†ç›–ç‡ä½
  - éœ€è¦å¤§é‡è¡¥å……

æ„å»ºå’Œå·¥å…·: â­â­â­â­â­ (95/100)
  - Viteå¿«é€Ÿæ„å»º
  - å®Œæ•´çš„æ‰“åŒ…æµç¨‹
  - è„šæœ¬å·¥å…·é½å…¨

å®‰å…¨æ€§: â­â­â­â­â­ (90/100)
  - Manifest V3
  - æœ€å°æƒé™
  - æœ¬åœ°å­˜å‚¨

å¯ç»´æŠ¤æ€§: â­â­â­â­ (85/100)
  - æ¨¡å—åŒ–è®¾è®¡
  - æ‰©å±•ç‚¹æ¸…æ™°
  - ç¼ºå°‘CI/CD
```

---

## ğŸš¦ ä¸‹æ¸¸é›†æˆæŒ‡å¼•

### äº§å“ç»ç† (PO) å…³æ³¨ç‚¹

```yaml
åŠŸèƒ½èŒƒå›´:
  - 12+ç§é«˜çº§æœç´¢è¯­æ³•
  - 3ä¸ªä¸»æµæœç´¢å¼•æ“
  - å†å²è®°å½•ç®¡ç†
  - ä¸»é¢˜åˆ‡æ¢
  - ä¸­è‹±æ–‡æ”¯æŒ

æŠ€æœ¯é™åˆ¶:
  - Chromeæ‰©å±•ç¯å¢ƒé™åˆ¶
  - 5MBæœ¬åœ°å­˜å‚¨é…é¢
  - éœ€è¦ç”¨æˆ·æ‰‹åŠ¨å®‰è£…

æ‰©å±•æ–¹å‘:
  - æ·»åŠ æ›´å¤šæœç´¢å¼•æ“ï¼ˆDuckDuckGo, Yandexï¼‰
  - æœç´¢æ¨¡æ¿ä¿å­˜å’Œåˆ†äº«
  - é«˜çº§æœç´¢å»ºè®®AIåŒ–
  - æµè§ˆå™¨å…¼å®¹ï¼ˆFirefox, Edgeï¼‰
```

### æ¶æ„å¸ˆ (Architect) å…³æ³¨ç‚¹

```yaml
æ¶æ„æ¨¡å¼:
  - é€‚é…å™¨æ¨¡å¼ï¼ˆæœç´¢å¼•æ“ï¼‰
  - å·¥å‚æ¨¡å¼ï¼ˆé€‚é…å™¨åˆ›å»ºï¼‰
  - Hooksæ¨¡å¼ï¼ˆçŠ¶æ€ç®¡ç†ï¼‰
  - ç»„ä»¶ç»„åˆæ¨¡å¼ï¼ˆUIï¼‰

æŠ€æœ¯é€‰å‹ç†ç”±:
  - React: ç»„ä»¶åŒ–UIå¼€å‘
  - TypeScript: ç±»å‹å®‰å…¨
  - Vite: å¿«é€Ÿæ„å»º
  - Tailwind: å¿«é€Ÿæ ·å¼å¼€å‘
  - Manifest V3: Chromeæ–°æ ‡å‡†

æ‰©å±•æ€§è€ƒè™‘:
  - æ–°æœç´¢å¼•æ“æ˜“äºæ·»åŠ 
  - æ–°è¯­æ³•ç±»å‹æ‰©å±•æ¸…æ™°
  - ä¸»é¢˜ç³»ç»Ÿå¯æ‰©å±•
  - å›½é™…åŒ–ç³»ç»Ÿå¯æ‰©å±•

æ€§èƒ½è€ƒè™‘:
  - å•ä¾‹æ¨¡å¼ç¼“å­˜é€‚é…å™¨
  - ä»£ç åˆ†å‰²ï¼ˆ4ä¸ªå…¥å£ï¼‰
  - æ‡’åŠ è½½å’ŒæŒ‰éœ€åŠ è½½
  - æœ¬åœ°å­˜å‚¨ä¼˜åŒ–
```

### Scrum Master (SM) å…³æ³¨ç‚¹

```yaml
å¼€å‘æµç¨‹:
  å½“å‰: æ‰‹åŠ¨å¼€å‘å’Œæµ‹è¯•
  å»ºè®®:
    - å¼•å…¥Sprintè§„åˆ’
    - æ¯æ—¥ç«™ä¼šï¼ˆå¦‚å›¢é˜Ÿ>1äººï¼‰
    - Sprintå›é¡¾
    - æŒç»­é›†æˆ

å‘å¸ƒæµç¨‹:
  å½“å‰: æ‰‹åŠ¨æ„å»ºå’Œæ‰“åŒ…
  æ”¹è¿›:
    - CI/CDè‡ªåŠ¨åŒ–
    - è‡ªåŠ¨åŒ–æµ‹è¯•é—¨ç¦
    - ç‰ˆæœ¬å·è‡ªåŠ¨ç®¡ç†

å›¢é˜Ÿåä½œ:
  å½“å‰: å•äººå¼€å‘ï¼ˆæ¨æµ‹ï¼‰
  æ‰©å±•:
    - å»ºç«‹åˆ†æ”¯ç­–ç•¥
    - Code Reviewæµç¨‹
    - PRæ¨¡æ¿å’Œæ£€æŸ¥æ¸…å•
```

### å¼€å‘è€… (Dev) å…³æ³¨ç‚¹

```yaml
å¼€å‘ç¯å¢ƒ:
  1. å…‹éš†ä»“åº“
  2. npm install
  3. npm run dev
  4. åŠ è½½diståˆ°Chrome

å…³é”®æ–‡ä»¶:
  - src/types/index.ts: ç±»å‹ç³»ç»Ÿå…¥å£
  - src/services/adapters/factory.ts: é€‚é…å™¨å·¥å‚
  - src/components/SearchForm.tsx: ä¸»UIç»„ä»¶
  - src/services/storage.ts: å­˜å‚¨æœåŠ¡

å¸¸ç”¨å‘½ä»¤:
  - npm run dev: å¼€å‘æ¨¡å¼
  - npm run build: ç”Ÿäº§æ„å»º
  - npm run package: æ‰“åŒ…å‘å¸ƒ
  - npm run lint: ä»£ç æ£€æŸ¥
  - npm test: è¿è¡Œæµ‹è¯•

è°ƒè¯•æŠ€å·§:
  - Chromeæ‰©å±•DevTools
  - Service Workerè°ƒè¯•
  - React DevTools
  - StorageæŸ¥çœ‹å™¨

æ‰©å±•å¼€å‘:
  1. ç†è§£é€‚é…å™¨æ¨¡å¼
  2. ç†Ÿæ‚‰ç±»å‹ç³»ç»Ÿ
  3. ç»„ä»¶å¼€å‘æ¨¡å¼
  4. éµå¾ªä»£ç è§„èŒƒ
```

### å®¡æŸ¥è€… (Review) å…³æ³¨ç‚¹

```yaml
ä»£ç å®¡æŸ¥è¦ç‚¹:
  1. TypeScriptç±»å‹å®Œæ•´æ€§
  2. React Hooksä½¿ç”¨è§„èŒƒ
  3. é€‚é…å™¨æ¥å£ä¸€è‡´æ€§
  4. é”™è¯¯å¤„ç†å®Œæ•´æ€§
  5. æ€§èƒ½å½±å“è¯„ä¼°

è´¨é‡é—¨ç¦:
  - âœ… ESLinté€šè¿‡
  - âœ… TypeScriptç¼–è¯‘é€šè¿‡
  - âœ… Prettieræ ¼å¼åŒ–
  - âš ï¸ å•å…ƒæµ‹è¯•è¦†ç›–ï¼ˆå¾…åŠ å¼ºï¼‰
  - âš ï¸ E2Eæµ‹è¯•é€šè¿‡ï¼ˆå¾…åŠ å¼ºï¼‰

å®‰å…¨å®¡æŸ¥:
  - æƒé™ä½¿ç”¨åˆç†æ€§
  - æ•°æ®å­˜å‚¨å®‰å…¨æ€§
  - XSSé˜²æŠ¤
  - CSPç­–ç•¥æ­£ç¡®æ€§

æ€§èƒ½å®¡æŸ¥:
  - Bundleå¤§å°
  - åˆå§‹åŠ è½½æ—¶é—´
  - è¿è¡Œæ—¶æ€§èƒ½
  - å†…å­˜ä½¿ç”¨
```

### QAæµ‹è¯•è€…å…³æ³¨ç‚¹

```yaml
æµ‹è¯•ç¯å¢ƒ:
  - Chrome 88+ï¼ˆæœ€ä½ç‰ˆæœ¬ï¼‰
  - æ”¯æŒçš„æœç´¢å¼•æ“ç½‘ç«™
  - ä¸åŒæ“ä½œç³»ç»Ÿï¼ˆWindows, macOS, Linuxï¼‰

åŠŸèƒ½æµ‹è¯•:
  1. åŸºç¡€æœç´¢åŠŸèƒ½
  2. å„è¯­æ³•ç±»å‹æ­£ç¡®æ€§
  3. æœç´¢å¼•æ“é€‚é…
  4. å†å²è®°å½•ç®¡ç†
  5. è®¾ç½®ä¿å­˜å’Œæ¢å¤
  6. ä¸»é¢˜åˆ‡æ¢
  7. å›½é™…åŒ–åˆ‡æ¢

å…¼å®¹æ€§æµ‹è¯•:
  - Chromeç‰ˆæœ¬å…¼å®¹
  - æœç´¢å¼•æ“ç½‘ç«™å˜åŒ–
  - å±å¹•åˆ†è¾¨ç‡é€‚é…

æ€§èƒ½æµ‹è¯•:
  - æ‰©å±•åŠ è½½æ—¶é—´
  - æœç´¢æ„å»ºæ€§èƒ½
  - å¤§é‡å†å²è®°å½•å¤„ç†

å®‰å…¨æµ‹è¯•:
  - XSSæ³¨å…¥æµ‹è¯•
  - æƒé™èŒƒå›´æµ‹è¯•
  - æ•°æ®éš”ç¦»æµ‹è¯•

æµ‹è¯•æ–‡æ¡£:
  - å·²æœ‰: QA_TEST_REPORT.md
  - å»ºè®®: è‡ªåŠ¨åŒ–æµ‹è¯•å¥—ä»¶
```

---

## ğŸ¯ å…³é”®çº¦å®šå’Œæ¨¡å¼æ€»ç»“

### 1. æ–‡ä»¶ç»„ç»‡çº¦å®š
- **ç»„ä»¶**: PascalCaseï¼Œç‹¬ç«‹æ–‡ä»¶ï¼Œå¸¦ç±»å‹å®šä¹‰
- **æœåŠ¡**: camelCaseï¼Œé¢å‘åŠŸèƒ½çš„æ¨¡å—
- **Hooks**: useå‰ç¼€ï¼Œå°è£…å¯é‡ç”¨é€»è¾‘
- **ç±»å‹**: ç»Ÿä¸€åœ¨`src/types/index.ts`

### 2. å‘½åçº¦å®š
- **å¸¸é‡**: UPPER_SNAKE_CASE
- **æ¥å£**: PascalCaseï¼Œå¯é€‰Iå‰ç¼€
- **ç±»å‹åˆ«å**: PascalCase
- **å‡½æ•°**: camelCase

### 3. å¯¼å…¥è·¯å¾„çº¦å®š
- ä½¿ç”¨`@/`åˆ«åå¼•ç”¨srcç›®å½•
- æ˜ç¡®çš„å­ç›®å½•åˆ«åï¼ˆ@/components, @/servicesç­‰ï¼‰
- é¿å…ç›¸å¯¹è·¯å¾„ï¼ˆ../../ï¼‰

### 4. é€‚é…å™¨æ¨¡å¼çº¦å®š
- ç»Ÿä¸€æ¥å£ï¼š`SearchEngineAdapter`
- å·¥å‚åˆ›å»ºï¼š`SearchAdapterFactory`
- å•ä¾‹ç¼“å­˜ï¼š`Map<SearchEngine, Adapter>`
- è¯­æ³•éªŒè¯ï¼šæ¯ä¸ªé€‚é…å™¨å®ç°`getSupportedSyntax()`

### 5. ç»„ä»¶å¼€å‘çº¦å®š
- Hooksä¼˜å…ˆï¼ˆuseState, useEffect, useCallbackï¼‰
- Propsç±»å‹å®šä¹‰ï¼ˆinterface + TypeScriptï¼‰
- å›½é™…åŒ–æ”¯æŒï¼ˆuseTranslationï¼‰
- Tailwindæ ·å¼ï¼ˆutility-firstï¼‰

### 6. å­˜å‚¨çº¦å®š
- é”®åå¸¸é‡ï¼š`STORAGE_KEYS`
- ç±»å‹å®‰å…¨ï¼š`StorageService.get<T>`
- é”™è¯¯å¤„ç†ï¼štry-catch + console.error
- è‡ªåŠ¨æ¸…ç†ï¼š30å¤©è¿‡æœŸæ•°æ®

### 7. æ„å»ºçº¦å®š
- å¤šå…¥å£æ„å»ºï¼špopup, options, background, content
- æ— å“ˆå¸Œæ–‡ä»¶åï¼š`[name].js`
- èµ„æºåˆ†ç¦»ï¼šCSSç‹¬ç«‹æ–‡ä»¶
- ç¯å¢ƒå˜é‡ï¼š`__IS_DEV__`

### 8. Gitæäº¤çº¦å®š
- ç±»å‹å‰ç¼€ï¼šfeat, chore, style, fix
- ä¸­æ–‡æè¿°
- æ¸…æ™°å…·ä½“çš„è¯´æ˜
- åŠŸèƒ½æ¨¡å—æ ‡æ³¨

---

## ğŸ”® å»ºè®®çš„ä¼˜åŒ–è·¯å¾„

### çŸ­æœŸä¼˜åŒ–ï¼ˆ1-2å‘¨ï¼‰

```yaml
1. æµ‹è¯•è¦†ç›–æå‡:
   - SearchAdapterFactoryæµ‹è¯•
   - BaiduAdapteré€»è¾‘æµ‹è¯•
   - useStorage Hookæµ‹è¯•
   ä¼˜å…ˆçº§: ğŸ”´ é«˜

2. CI/CDåŸºç¡€é…ç½®:
   - GitHub Actionså·¥ä½œæµ
   - è‡ªåŠ¨è¿è¡Œæµ‹è¯•
   - è‡ªåŠ¨æ„å»ºéªŒè¯
   ä¼˜å…ˆçº§: ğŸŸ¡ ä¸­

3. ä»£ç é‡æ„:
   - æå–éªŒè¯é€»è¾‘åˆ°validators/
   - æå–å¸¸é‡åˆ°config/
   - å·¥å…·å‡½æ•°ç‹¬ç«‹æ–‡ä»¶
   ä¼˜å…ˆçº§: ğŸŸ¢ ä½
```

### ä¸­æœŸä¼˜åŒ–ï¼ˆ1-2æœˆï¼‰

```yaml
1. åŠŸèƒ½å¢å¼º:
   - æ·»åŠ æ›´å¤šæœç´¢å¼•æ“
   - æœç´¢æ¨¡æ¿åŠŸèƒ½
   - é«˜çº§æœç´¢å»ºè®®
   ä¼˜å…ˆçº§: ğŸŸ¡ ä¸­

2. æ€§èƒ½ä¼˜åŒ–:
   - æ·»åŠ æ€§èƒ½ç›‘æ§
   - ä¼˜åŒ–Bundleå¤§å°
   - æ‡’åŠ è½½ä¼˜åŒ–
   ä¼˜å…ˆçº§: ğŸŸ¡ ä¸­

3. æ–‡æ¡£å®Œå–„:
   - APIæ–‡æ¡£
   - æ¶æ„å†³ç­–è®°å½•
   - è´¡çŒ®æŒ‡å—æ·±åŒ–
   ä¼˜å…ˆçº§: ğŸŸ¢ ä½
```

### é•¿æœŸä¼˜åŒ–ï¼ˆ3-6æœˆï¼‰

```yaml
1. è·¨æµè§ˆå™¨æ”¯æŒ:
   - Firefoxæ‰©å±•ç‰ˆæœ¬
   - Edgeæ‰©å±•ç‰ˆæœ¬
   - Safariæ‰©å±•ç‰ˆæœ¬
   ä¼˜å…ˆçº§: ğŸŸ¡ ä¸­

2. åŠŸèƒ½åˆ›æ–°:
   - AIæœç´¢å»ºè®®
   - æœç´¢æ¨¡æ¿å¸‚åœº
   - åä½œå’Œåˆ†äº«åŠŸèƒ½
   ä¼˜å…ˆçº§: ğŸŸ¢ ä½

3. ç”Ÿæ€å»ºè®¾:
   - å¼€å‘è€…æ–‡æ¡£ç«™ç‚¹
   - ç¤¾åŒºå»ºè®¾
   - æ’ä»¶å¸‚åœº
   ä¼˜å…ˆçº§: ğŸŸ¢ ä½
```

---

## ğŸ“‹ æ€»ç»“å’Œå…³é”®æ´å¯Ÿ

### é¡¹ç›®ä¼˜åŠ¿

1. **æ¸…æ™°çš„æ¶æ„è®¾è®¡**
   - é€‚é…å™¨æ¨¡å¼å®ç°ä¼˜é›…ï¼Œæ˜“äºæ‰©å±•
   - ç»„ä»¶åŒ–ç¨‹åº¦é«˜ï¼ŒèŒè´£å•ä¸€
   - ç±»å‹ç³»ç»Ÿå®Œæ•´ï¼Œå¼€å‘ä½“éªŒå¥½

2. **ç°ä»£åŒ–æŠ€æœ¯æ ˆ**
   - React 18 + TypeScript 5
   - Viteå¿«é€Ÿæ„å»º
   - Tailwind CSSç°ä»£æ ·å¼
   - Manifest V3æœ€æ–°æ ‡å‡†

3. **å®Œå–„çš„å·¥å…·é“¾**
   - ESLint + Prettierä»£ç è´¨é‡
   - Jest + Playwrightæµ‹è¯•æ¡†æ¶
   - è‡ªåŠ¨åŒ–æ‰“åŒ…è„šæœ¬
   - è¯¦ç»†çš„å¼€å‘æ–‡æ¡£

4. **è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒ**
   - ä¸»é¢˜æ”¯æŒï¼ˆLight/Dark/Autoï¼‰
   - å›½é™…åŒ–ï¼ˆä¸­è‹±æ–‡ï¼‰
   - å†å²è®°å½•ç®¡ç†
   - å®æ—¶éªŒè¯å’Œå»ºè®®

### éœ€è¦æ”¹è¿›çš„é¢†åŸŸ

1. **æµ‹è¯•è¦†ç›–ç‡ä½**ï¼ˆä¼˜å…ˆçº§ï¼šé«˜ï¼‰
   - æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ç¼ºå°‘æµ‹è¯•
   - E2Eæµ‹è¯•æœªå®æ–½
   - éœ€è¦å»ºç«‹æµ‹è¯•æ–‡åŒ–

2. **ç¼ºå°‘CI/CD**ï¼ˆä¼˜å…ˆçº§ï¼šä¸­ï¼‰
   - æ‰‹åŠ¨æµ‹è¯•å’Œæ„å»º
   - ç‰ˆæœ¬ç®¡ç†æ‰‹åŠ¨
   - éœ€è¦è‡ªåŠ¨åŒ–æµç¨‹

3. **æ€§èƒ½ç›‘æ§ç¼ºå¤±**ï¼ˆä¼˜å…ˆçº§ï¼šä¸­ï¼‰
   - æ— æ€§èƒ½æŒ‡æ ‡
   - æ— é”™è¯¯è¿½è¸ª
   - éœ€è¦å¯è§‚æµ‹æ€§

### æŠ€æœ¯å€ºåŠ¡å»ºè®®

```yaml
é«˜ä¼˜å…ˆçº§:
  1. è¡¥å……å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
  2. é…ç½®GitHub Actions CI/CD
  3. æ·»åŠ é”™è¯¯è¾¹ç•Œå’Œé”™è¯¯å¤„ç†

ä¸­ä¼˜å…ˆçº§:
  4. ä»£ç ç»“æ„ä¼˜åŒ–ï¼ˆvalidators/, config/ï¼‰
  5. æ€§èƒ½ç›‘æ§å’Œåˆ†æ
  6. APIæ–‡æ¡£å’Œæ¶æ„æ–‡æ¡£

ä½ä¼˜å…ˆçº§:
  7. è·¨æµè§ˆå™¨æ”¯æŒ
  8. åŠŸèƒ½åˆ›æ–°å’Œæ‰©å±•
  9. ç¤¾åŒºå»ºè®¾
```

### ç»™ä¸‹æ¸¸å›¢é˜Ÿçš„å»ºè®®

**äº§å“å›¢é˜Ÿ**:
- å½“å‰åŠŸèƒ½å·²ç”Ÿäº§å°±ç»ª
- å¯ä»¥è€ƒè™‘Chrome Web Storeå‘å¸ƒ
- å»ºè®®æ”¶é›†ç”¨æˆ·åé¦ˆåè¿­ä»£

**å¼€å‘å›¢é˜Ÿ**:
- ä¼˜å…ˆè¡¥å……æµ‹è¯•è¦†ç›–
- å»ºç«‹CI/CDæµç¨‹
- éµå¾ªç°æœ‰ä»£ç çº¦å®š

**æµ‹è¯•å›¢é˜Ÿ**:
- å‚è€ƒQA_TEST_REPORT.md
- é‡ç‚¹æµ‹è¯•æœç´¢å¼•æ“é€‚é…
- å…³æ³¨è¾¹ç•Œæƒ…å†µå’Œé”™è¯¯å¤„ç†

**è¿ç»´å›¢é˜Ÿ**:
- å½“å‰æ— æœåŠ¡å™¨ç«¯éœ€æ±‚
- å…³æ³¨Chrome Web Storeå‘å¸ƒæµç¨‹
- ç‰ˆæœ¬ç®¡ç†å’Œå›æ»šç­–ç•¥

---

## ğŸ“ è”ç³»æ–¹å¼å’Œèµ„æº

```yaml
é¡¹ç›®ä¿¡æ¯:
  åç§°: SearchSyntax Pro (æœç´¢è¯­æ³•å¤§å¸ˆ)
  ç‰ˆæœ¬: 1.0.0
  ä½œè€…: å†·ç«å‡‰çƒŸ <lhlyzh@qq.com>
  ä»“åº“: https://github.com/lhly/search-syntax-pro
  é—®é¢˜: https://github.com/lhly/search-syntax-pro/issues

å…³é”®æ–‡æ¡£:
  - README.md: é¡¹ç›®æ¦‚è§ˆå’Œä½¿ç”¨æŒ‡å—
  - PACKAGING.md: æ‰“åŒ…å’Œå‘å¸ƒæŒ‡å—
  - QA_TEST_REPORT.md: QAæµ‹è¯•æŠ¥å‘Š
  - THEME_IMPLEMENTATION.md: ä¸»é¢˜å®ç°æ–‡æ¡£

æŠ€æœ¯æ”¯æŒ:
  - é¡¹ç›®Issues
  - é‚®ä»¶è”ç³»: lhlyzh@qq.com

è®¸å¯è¯: MIT
```

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025-11-08 18:10:52 (CST)
**åˆ†æå·¥å…·**: BMAD Orchestrator with UltraThink Methodology
**ä¸‹ä¸€æ­¥**: ä¼ é€’ç»™POã€Architectã€SMã€Devã€Reviewã€QAå›¢é˜Ÿè¿›è¡Œå„è‡ªä¸“ä¸šåˆ†æ
