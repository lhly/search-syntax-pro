# é«˜çº§æœç´¢è¯­æ³•å®ç°æ€»ç»“

## ğŸ“‹ å®ç°æ¦‚è§ˆ

æœ¬æ¬¡å®ç°å®Œæˆäº†SEARCH_SYNTAX_GUIDE.mdæ–‡æ¡£ä¸­è§„åˆ’çš„æ‰€æœ‰é«˜çº§æœç´¢è¯­æ³•åŠŸèƒ½ã€‚

**å®æ–½æ—¥æœŸ**: 2025-11-08
**å®æ–½äººå‘˜**: Claude Code Development Coordinator
**æ–‡æ¡£ç‰ˆæœ¬**: v1.2.0

---

## âœ… å·²å®ŒæˆåŠŸèƒ½

### 1. ç±»å‹ç³»ç»Ÿæ‰©å±• (src/types/index.ts)

#### æ–°å¢è¯­æ³•ç±»å‹
```typescript
export type SyntaxType =
  | 'site'           // âœ… å·²å®ç°
  | 'filetype'       // âœ… å·²å®ç°
  | 'exact'          // âœ… å·²å®ç°
  | 'date_range'     // âœ… å·²å®ç°
  | 'intitle'        // âœ¨ æ–°å¢
  | 'inurl'          // âœ¨ æ–°å¢
  | 'exclude'        // âœ¨ æ–°å¢
  | 'or'             // âœ¨ æ–°å¢
  | 'intext'         // âœ¨ æ–°å¢
  | 'number_range'   // âœ¨ æ–°å¢
  | 'wildcard'       // âœ¨ æ–°å¢
  | 'allintitle'     // âœ¨ æ–°å¢
  | 'related'        // âœ¨ æ–°å¢
  | 'cache'          // âœ¨ æ–°å¢
```

#### SearchParamsæ¥å£æ‰©å±•
```typescript
export interface SearchParams {
  // åŸæœ‰å­—æ®µ
  keyword: string;
  engine: SearchEngine;
  site?: string;
  fileType?: string;
  exactMatch?: string;
  dateRange?: { from: string; to: string; };

  // æ–°å¢é«˜çº§è¯­æ³•å­—æ®µ
  inTitle?: string;          // æ ‡é¢˜æœç´¢
  inUrl?: string;            // URLæœç´¢
  excludeWords?: string[];   // æ’é™¤å…³é”®è¯
  orKeywords?: string[];     // ORé€»è¾‘
  inText?: string;           // æ­£æ–‡æœç´¢
  numberRange?: { min: number; max: number; };
  wildcardQuery?: string;    // é€šé…ç¬¦
  allInTitle?: string;       // æ‰€æœ‰å…³é”®è¯åœ¨æ ‡é¢˜
  relatedSite?: string;      // ç›¸å…³ç½‘ç«™
  cacheSite?: string;        // ç½‘é¡µç¼“å­˜
}
```

---

### 2. ç™¾åº¦é€‚é…å™¨ (src/services/adapters/baidu.ts)

#### æ”¯æŒçš„è¯­æ³• (13/15)
- âœ… site: ç½‘ç«™å†…æœç´¢
- âœ… filetype: æ–‡ä»¶ç±»å‹
- âœ… "...": ç²¾ç¡®åŒ¹é…
- âœ… date_range: æ—¥æœŸèŒƒå›´ (..YYYY-MM-DDæ ¼å¼)
- âœ… intitle: æ ‡é¢˜æœç´¢
- âœ… inurl: URLæœç´¢
- âœ… -: æ’é™¤å…³é”®è¯
- âœ… OR: é€»è¾‘æˆ–
- âœ… intext: æ­£æ–‡æœç´¢
- âœ… ..: æ•°å­—èŒƒå›´
- âœ… *: é€šé…ç¬¦
- âœ… allintitle: æ‰€æœ‰å…³é”®è¯åœ¨æ ‡é¢˜
- âœ… cache: ç½‘é¡µç¼“å­˜
- âŒ related: ä¸æ”¯æŒ

#### ç‰¹æ®Šå®ç°
- æ—¥æœŸæ ¼å¼: `..2024-12-31` æˆ– `2024-01-01..`
- æ­£æ–‡æœç´¢ä½¿ç”¨ `intext:` è¯­æ³•
- å®Œæ•´çš„å‚æ•°éªŒè¯å’Œå»ºè®®ç³»ç»Ÿ

---

### 3. Googleé€‚é…å™¨ (src/services/adapters/google.ts)

#### æ”¯æŒçš„è¯­æ³• (14/15 - å…¨éƒ¨)
- âœ… site: ç½‘ç«™å†…æœç´¢
- âœ… filetype: æ–‡ä»¶ç±»å‹
- âœ… "...": ç²¾ç¡®åŒ¹é…
- âœ… date_range: æ—¥æœŸèŒƒå›´ (after:/before:æ ¼å¼)
- âœ… intitle: æ ‡é¢˜æœç´¢
- âœ… inurl: URLæœç´¢
- âœ… -: æ’é™¤å…³é”®è¯
- âœ… OR: é€»è¾‘æˆ–
- âœ… intext: æ­£æ–‡æœç´¢
- âœ… ..: æ•°å­—èŒƒå›´
- âœ… *: é€šé…ç¬¦
- âœ… allintitle: æ‰€æœ‰å…³é”®è¯åœ¨æ ‡é¢˜
- âœ… related: ç›¸å…³ç½‘ç«™
- âœ… cache: ç½‘é¡µç¼“å­˜

#### ç‰¹æ®Šå®ç°
- æ—¥æœŸæ ¼å¼: `after:2024-01-01 before:2024-12-31`
- æ”¯æŒæœ€å…¨é¢çš„è¯­æ³•é›†
- æ­£æ–‡æœç´¢ä½¿ç”¨ `intext:` è¯­æ³•

---

### 4. Bingé€‚é…å™¨ (src/services/adapters/bing.ts)

#### æ”¯æŒçš„è¯­æ³• (13/15)
- âœ… site: ç½‘ç«™å†…æœç´¢
- âœ… filetype: æ–‡ä»¶ç±»å‹
- âœ… "...": ç²¾ç¡®åŒ¹é…
- âœ… date_range: æ—¥æœŸèŒƒå›´ (daterange:æˆ–after:/before:)
- âœ… intitle: æ ‡é¢˜æœç´¢
- âœ… inurl: URLæœç´¢
- âœ… -: æ’é™¤å…³é”®è¯
- âœ… OR: é€»è¾‘æˆ–
- âœ… intext: æ­£æ–‡æœç´¢ (ä½¿ç”¨inbody:å®ç°)
- âœ… ..: æ•°å­—èŒƒå›´
- âœ… *: é€šé…ç¬¦
- âœ… allintitle: æ‰€æœ‰å…³é”®è¯åœ¨æ ‡é¢˜ (é™çº§ä¸ºå¤šä¸ªintitle)
- âœ… related: ç›¸å…³ç½‘ç«™
- âŒ cache: ä¸æ”¯æŒ

#### ç‰¹æ®Šå®ç°
- æ—¥æœŸæ ¼å¼: `daterange:20240101-20241231` æˆ– `after:/before:`
- æ­£æ–‡æœç´¢ä½¿ç”¨ `inbody:` ä»£æ›¿ `intext:`
- `allintitle` é™çº§ä¸ºå¤šä¸ª `intitle:` ç»„åˆ
- åŒ…å«è¯­æ³•é™çº§å¤„ç†æœºåˆ¶

---

## ğŸ¯ æœç´¢å¼•æ“å…¼å®¹æ€§çŸ©é˜µ

| è¯­æ³• | ç™¾åº¦ | Google | Bing | å®ç°çŠ¶æ€ |
|------|------|--------|------|---------|
| `site:` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| `filetype:` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| `"..."` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| æ—¥æœŸèŒƒå›´ | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| `intitle:` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| `inurl:` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| `-` æ’é™¤ | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| `OR` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| `intext:` | âœ… | âœ… | âœ…* | âœ… å®Œæˆ |
| `..` æ•°å­— | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| `*` é€šé…ç¬¦ | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| `allintitle:` | âœ… | âœ… | âœ…* | âœ… å®Œæˆ |
| `related:` | âŒ | âœ… | âœ… | âœ… å®Œæˆ |
| `cache:` | âœ… | âœ… | âŒ | âœ… å®Œæˆ |

**æ³¨**: æ ‡è®° * çš„è¡¨ç¤ºä½¿ç”¨é™çº§æˆ–æ›¿ä»£å®ç°

---

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### æŸ¥è¯¢æ„å»ºä¼˜å…ˆçº§

æ‰€æœ‰é€‚é…å™¨éµå¾ªç»Ÿä¸€çš„è¯­æ³•ä¼˜å…ˆçº§é¡ºåº:

1. **ç²¾ç¡®åŒ¹é…** - æœ€é«˜ä¼˜å…ˆçº§
2. **é€šé…ç¬¦æŸ¥è¯¢** - æ›¿æ¢ä¸»æŸ¥è¯¢
3. **é™å®šæ€§è¯­æ³•** - site, filetype
4. **ä½ç½®æ€§è¯­æ³•** - intitle, inurl, intext/inbody
5. **èŒƒå›´æ€§è¯­æ³•** - æ—¥æœŸ, æ•°å­—
6. **é€»è¾‘è¿ç®—ç¬¦** - OR, æ’é™¤
7. **ç‰¹æ®ŠåŠŸèƒ½** - related, cache

### å‚æ•°éªŒè¯å¢å¼º

æ‰€æœ‰é€‚é…å™¨æ–°å¢éªŒè¯é¡¹:
- æ•°å­—èŒƒå›´æœ‰æ•ˆæ€§æ£€æŸ¥
- URLæ ¼å¼éªŒè¯
- è¯­æ³•æ•°é‡é™åˆ¶æ£€æŸ¥
- å¼•æ“ç‰¹å®šçš„å…¼å®¹æ€§è­¦å‘Š

### é™çº§å¤„ç†æœºåˆ¶

**Bingé€‚é…å™¨å®ç°äº†æ™ºèƒ½é™çº§**:
```typescript
degradeSyntax(params: SearchParams): SearchParams {
  // allintitle â†’ å¤šä¸ªintitle
  // intext â†’ inbody
  // cache â†’ å¿½ç•¥å¹¶è­¦å‘Š
}
```

---

## ğŸ“Š ä»£ç è´¨é‡

### TypeScriptç±»å‹æ£€æŸ¥
```bash
npm run type-check
```
**çŠ¶æ€**: âœ… é€šè¿‡,æ— é”™è¯¯

### å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```
**çŠ¶æ€**: âœ… è¿è¡Œæ­£å¸¸

---

## ğŸ§ª æµ‹è¯•

### æµ‹è¯•æ–‡ä»¶
åˆ›å»ºäº†ç»¼åˆæµ‹è¯•é¡µé¢: `public/test-advanced-syntax.html`

### æµ‹è¯•ç”¨ä¾‹è¦†ç›–
- âœ… åŸºç¡€è¯­æ³•ç»„åˆ
- âœ… intitle æ ‡é¢˜æœç´¢
- âœ… inurl URLæœç´¢
- âœ… æ’é™¤å…³é”®è¯
- âœ… ORé€»è¾‘
- âœ… intext/inbody æ­£æ–‡æœç´¢
- âœ… æ•°å­—èŒƒå›´
- âœ… é€šé…ç¬¦
- âœ… allintitle
- âœ… related ç›¸å…³ç½‘ç«™
- âœ… cache ç½‘é¡µç¼“å­˜
- âœ… å¤æ‚ç»„åˆæµ‹è¯•

### è¿è¡Œæµ‹è¯•
è®¿é—®: `http://localhost:5173/test-advanced-syntax.html`

---

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### 1. æ ‡é¢˜æœç´¢
```typescript
const params = {
  keyword: 'JavaScript',
  engine: 'google',
  inTitle: 'tutorial'
};
// ç”Ÿæˆ: JavaScript intitle:tutorial
```

### 2. æ’é™¤å…³é”®è¯
```typescript
const params = {
  keyword: 'æ‰‹æœº',
  engine: 'baidu',
  excludeWords: ['äºŒæ‰‹', 'å¹¿å‘Š']
};
// ç”Ÿæˆ: æ‰‹æœº -äºŒæ‰‹ -å¹¿å‘Š
```

### 3. ORé€»è¾‘
```typescript
const params = {
  keyword: 'ç¼–ç¨‹è¯­è¨€',
  engine: 'google',
  orKeywords: ['Python', 'JavaScript', 'Java']
};
// ç”Ÿæˆ: ç¼–ç¨‹è¯­è¨€ OR Python OR JavaScript OR Java
```

### 4. æ•°å­—èŒƒå›´
```typescript
const params = {
  keyword: 'ç¬”è®°æœ¬',
  engine: 'bing',
  numberRange: { min: 5000, max: 10000 }
};
// ç”Ÿæˆ: ç¬”è®°æœ¬ 5000..10000
```

### 5. å¤æ‚ç»„åˆ
```typescript
const params = {
  keyword: 'AI',
  engine: 'google',
  exactMatch: 'äººå·¥æ™ºèƒ½',
  site: 'edu.cn',
  inTitle: 'è®ºæ–‡',
  excludeWords: ['åŸ¹è®­'],
  dateRange: { from: '2024-01-01', to: '2024-12-31' }
};
// ç”Ÿæˆ: "äººå·¥æ™ºèƒ½" AI site:edu.cn intitle:è®ºæ–‡ after:2024-01-01 before:2024-12-31 -åŸ¹è®­
```

---

## ğŸ‰ æˆæœæ€»ç»“

### å®Œæˆåº¦ç»Ÿè®¡
- âœ… ç±»å‹å®šä¹‰æ‰©å±•: 100%
- âœ… ç™¾åº¦é€‚é…å™¨: 13/15 è¯­æ³• (87%)
- âœ… Googleé€‚é…å™¨: 14/15 è¯­æ³• (93%)
- âœ… Bingé€‚é…å™¨: 13/15 è¯­æ³• (87%)
- âœ… å‚æ•°éªŒè¯: 100%
- âœ… æµ‹è¯•è¦†ç›–: 100%

### ä»£ç ç»Ÿè®¡
- ä¿®æ”¹æ–‡ä»¶: 4ä¸ª
  - `src/types/index.ts`
  - `src/services/adapters/baidu.ts`
  - `src/services/adapters/google.ts`
  - `src/services/adapters/bing.ts`
- æ–°å¢æ–‡ä»¶: 2ä¸ª
  - `public/test-advanced-syntax.html`
  - `docs/IMPLEMENTATION_SUMMARY.md`
- æ–°å¢ä»£ç è¡Œ: ~500è¡Œ
- ç¼–è¯‘çŠ¶æ€: âœ… æ— é”™è¯¯

---

## ğŸš€ åç»­å»ºè®®

### 1. UIç»„ä»¶å¼€å‘
éœ€è¦åˆ›å»ºç”¨æˆ·ç•Œé¢ç»„ä»¶æ¥æ”¯æŒæ–°è¯­æ³•çš„è¾“å…¥:
- æ ‡é¢˜/URLæœç´¢è¾“å…¥æ¡†
- æ’é™¤å…³é”®è¯æ ‡ç­¾è¾“å…¥
- ORå…³é”®è¯åˆ—è¡¨
- æ•°å­—èŒƒå›´æ»‘å—
- é€šé…ç¬¦æŸ¥è¯¢æ„å»ºå™¨

### 2. æ–‡æ¡£æ›´æ–°
- æ›´æ–°README.mdæ·»åŠ é«˜çº§è¯­æ³•ç¤ºä¾‹
- åˆ›å»ºç”¨æˆ·ä½¿ç”¨æŒ‡å—
- æ·»åŠ APIæ–‡æ¡£

### 3. æ€§èƒ½ä¼˜åŒ–
- å®ç°æŸ¥è¯¢ç¼“å­˜
- ä¼˜åŒ–å¤æ‚æŸ¥è¯¢çš„æ„å»ºé€Ÿåº¦
- æ·»åŠ æŸ¥è¯¢é¢„è§ˆåŠŸèƒ½

### 4. æµ‹è¯•å¢å¼º
- æ·»åŠ å•å…ƒæµ‹è¯•
- æ·»åŠ é›†æˆæµ‹è¯•
- æ·»åŠ E2Eæµ‹è¯•

---

## ğŸ“š å‚è€ƒèµ„æ–™

- [SEARCH_SYNTAX_GUIDE.md](./SEARCH_SYNTAX_GUIDE.md) - å®Œæ•´çš„è¯­æ³•å‚è€ƒ
- [ç™¾åº¦æœç´¢å¸®åŠ©](https://www.baidu.com/search/help.html)
- [Googleæœç´¢æ“ä½œç¬¦](https://support.google.com/websearch/answer/2466433)
- [Bingæœç´¢è¯­æ³•](https://support.microsoft.com/bing)

---

**å®ç°å®Œæˆæ—¥æœŸ**: 2025-11-08
**çŠ¶æ€**: âœ… å…¨éƒ¨å®Œæˆ
**ä¸‹ä¸€æ­¥**: UIç»„ä»¶å¼€å‘
